/* ========== VARIABLES GLOBALES MEJORADAS 2025 ========== */

:root {
    /* Color palette - Sistema refinado con color-mix */
    --primary: #1a365d;
    --primary-light: color-mix(in srgb, var(--primary) 70%, white);
    --primary-dark: color-mix(in srgb, var(--primary) 80%, black);
    --secondary: #c9b037;
    --secondary-light: color-mix(in srgb, var(--secondary) 70%, white);
    --secondary-dark: color-mix(in srgb, var(--secondary) 70%, black);
    --accent: #4a6fa5;
    --accent-light: color-mix(in srgb, var(--accent) 70%, white);
    
    /* Neutrales con escala refinada */
    --neutral-100: #ffffff;
    --neutral-200: #f8f9fa;
    --neutral-300: #e9ecef;
    --neutral-400: #ced4da;
    --neutral-500: #8d959e;
    --neutral-600: #495057;
    --neutral-700: #272b2f;
    
    /* Para cálculos de rgba */
    --neutral-100-rgb: 255, 255, 255;
    --neutral-700-rgb: 39, 43, 47;
    --primary-rgb: 26, 54, 93;
    --secondary-rgb: 201, 176, 55;
    
    /* Sistema de espaciado coherente */
    --spacing-xs: clamp(0.5rem, 0.5rem + 0.1vw, 0.625rem);
    --spacing-sm: clamp(0.75rem, 0.75rem + 0.25vw, 1rem);
    --spacing-md: clamp(1.25rem, 1.25rem + 0.25vw, 1.5rem);
    --spacing-lg: clamp(2rem, 2rem + 0.5vw, 2.5rem);
    --spacing-xl: clamp(3rem, 3rem + 1vw, 4rem);
    
    /* Sistema tipográfico fluido */
    --fs-xs: clamp(0.75rem, 0.75rem + 0.1vw, 0.875rem);
    --fs-sm: clamp(0.875rem, 0.875rem + 0.1vw, 0.9375rem); 
    --fs-base: clamp(1rem, 1rem + 0.2vw, 1.125rem);
    --fs-md: clamp(1.125rem, 1.125rem + 0.3vw, 1.25rem);
    --fs-lg: clamp(1.25rem, 1.25rem + 0.5vw, 1.5rem);
    --fs-xl: clamp(1.5rem, 1.5rem + 0.75vw, 2rem);
    --fs-2xl: clamp(1.875rem, 1.875rem + 1vw, 2.5rem);
    --fs-3xl: clamp(2.5rem, 2.5rem + 1.5vw, 3.5rem);
    --fs-4xl: clamp(3rem, 3rem + 2vw, 4.5rem);
    
    /* Tipografía y líneas */
    --font-primary: 'DM Serif Display', serif;
    --font-secondary: 'Inter', sans-serif;
    --line-height-tight: clamp(1.1, 1.1 + 0.1vw, 1.2);
    --line-height-normal: clamp(1.5, 1.5 + 0.1vw, 1.6);
    --line-height-relaxed: clamp(1.6, 1.6 + 0.1vw, 1.8);
    
    /* Radios, bordes y sombras */
    --border-radius-sm: 4px;
    --border-radius-md: 8px;
    --border-radius-lg: 12px;
    --border-radius-xl: 16px;
    --border-radius-full: 9999px;
    
    --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.04);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.08);
    --shadow-inner: inset 0 2px 4px rgba(0, 0, 0, 0.06);
    
    /* Transiciones refinadas */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-bounce: 500ms cubic-bezier(0.34, 1.56, 0.64, 1);
    
    /* Motion preferences */
    --reduce-motion: no-preference;
}
  
/* Soporte para preferencias de movimiento reducido */
@media (prefers-reduced-motion: reduce) {
    :root {
        --reduce-motion: reduce;
    }
    
    *, ::before, ::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}
  
/* ========== RESET Y ESTILOS BASE MODERNIZADOS ========== */
@layer base {
    *, *::before, *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }
    
    html {
        font-size: 100%;
        scroll-behavior: smooth;
        text-size-adjust: 100%;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        accent-color: var(--primary);
    }
    
    body {
        font-family: var(--font-secondary);
        font-size: var(--fs-base);
        line-height: var(--line-height-normal);
        color: var(--neutral-600);
        background-color: var(--neutral-100);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        overflow-x: hidden;
    }
    
    main {
        flex: 1;
    }
    
    img, picture, video, canvas, svg {
        display: block;
        max-width: 100%;
        height: auto;
    }
    
    /* Establecer espaciado consistente para párrafos */
    p {
        margin-bottom: var(--spacing-md);
        max-width: 70ch; /* Ancho óptimo de legibilidad */
    }
    
    a {
        color: var(--primary);
        text-decoration: none;
        transition: color var(--transition-normal);
    }
    
    a:hover {
        color: var(--accent);
    }
    
    /* Jerarquía tipográfica clara */
    h1, h2, h3, h4, h5, h6 {
        font-family: var(--font-primary);
        font-weight: 400;
        line-height: var(--line-height-tight);
        color: var(--neutral-700);
        margin-bottom: var(--spacing-md);
        max-width: 50ch; /* Ancho óptimo para títulos */
        text-wrap: balance; /* Nuevo en CSS: mejora la división de líneas */
    }
    
    h1 { font-size: var(--fs-4xl); }
    h2 { font-size: var(--fs-3xl); }
    h3 { font-size: var(--fs-2xl); }
    h4 { font-size: var(--fs-xl); }
    h5 { font-size: var(--fs-lg); }
    h6 { font-size: var(--fs-md); }
    
    /* Mejora de accesibilidad para el foco */
    :focus-visible {
        outline: 2px solid var(--primary);
        outline-offset: 3px;
        border-radius: var(--border-radius-sm);
        box-shadow: 0 0 0 4px rgba(var(--primary-rgb), 0.2);
    }
    
    /* Skip link para accesibilidad */
    .skip-link {
        position: absolute;
        top: -100px;
        left: 20px;
        z-index: 9999;
        padding: var(--spacing-sm) var(--spacing-md);
        background: var(--primary);
        color: var(--neutral-100);
        border-radius: var(--border-radius-md);
        transition: top var(--transition-normal);
    }
    
    .skip-link:focus {
        top: 20px;
    }
}
  
/* ========== MODO OSCURO MEJORADO ========== */
@layer base {
    /* Preferencia del sistema */
    @media (prefers-color-scheme: dark) {
        :root {
            color-scheme: dark;
            
            /* Paleta oscura */
            --neutral-100: #121212;
            --neutral-200: #1e1e1e;
            --neutral-300: #2d2d2d;
            --neutral-400: #353535;
            --neutral-500: #5c5c5c;
            --neutral-600: #b0b0b0;
            --neutral-700: #f0f0f0;
            
            /* Para cálculos de rgba en modo oscuro */
            --neutral-100-rgb: 18, 18, 18;
            --neutral-700-rgb: 240, 240, 240;
            
            /* Colores ajustados para el tema oscuro */
            --primary: #4a6fa5;
            --primary-rgb: 74, 111, 165;
            --secondary: #d4bc45;
            --secondary-rgb: 212, 188, 69;
            --accent: #6d93d1;
            
            /* Sombras para fondo oscuro */
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.2);
            --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.25);
            --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.3);
        }
        
        .navbar {
            background-color: rgba(var(--neutral-100-rgb), 0.85) !important;
        }
        
        .home {
            background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('img/Facultad_de_derecho_uba.webp');
        }
        
        .card {
            background-color: var(--neutral-200);
            border: 1px solid var(--neutral-300);
        }
        
        .comentario-card {
            background-color: var(--neutral-200);
        }
        
        /* Inversión de iconos en modo oscuro si es necesario */
        .invert-in-dark {
            filter: invert(1) hue-rotate(180deg);
        }
    }
    
    /* Tema oscuro con toggle */
    html.dark-theme {
        color-scheme: dark;
        
        --neutral-100: #121212;
        --neutral-200: #1e1e1e;
        --neutral-300: #2d2d2d;
        --neutral-400: #353535;
        --neutral-500: #5c5c5c;
        --neutral-600: #b0b0b0;
        --neutral-700: #f0f0f0;
        
        --neutral-100-rgb: 18, 18, 18;
        --neutral-700-rgb: 240, 240, 240;
        
        --primary: #4a6fa5;
        --primary-rgb: 74, 111, 165;
        --secondary: #d4bc45;
        --secondary-rgb: 212, 188, 69;
        --accent: #6d93d1;
        
        --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.2);
        --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.25);
        --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.3);
    }
    
    /* Asegurar que el tema oscuro se aplique a toda la página */
    html.dark-theme body,
    html.dark-theme main,
    html.dark-theme section,
    html.dark-theme .card,
    html.dark-theme .modal-content,
    html.dark-theme .comentario-card {
        background-color: var(--neutral-100);
        color: var(--neutral-600);
    }
    
    html.dark-theme .navbar {
        background-color: rgba(var(--neutral-100-rgb), 0.85) !important;
    }
    
    html.dark-theme .home {
        background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('img/Facultad_de_derecho_uba.webp');
    }
    
    html.dark-theme .card {
        background-color: var(--neutral-200);
        border: 1px solid var(--neutral-300);
    }
    
    html.dark-theme .card-header {
        background-color: var(--neutral-300);
    }
    
    html.dark-theme .section-title,
    html.dark-theme .card-body h4 {
        color: var(--neutral-200);
    }
    
    html.dark-theme .card-text li {
        color: var(--neutral-400);
    }
    
    html.dark-theme .comentario-card {
        background-color: var(--neutral-200);
    }
    
    html.dark-theme .invert-in-dark {
        filter: invert(1) hue-rotate(180deg);
    }
    
    /* Transición suave entre temas */
    html.color-theme-in-transition,
    html.color-theme-in-transition *,
    html.color-theme-in-transition *:before,
    html.color-theme-in-transition *:after {
        transition: all 750ms !important;
        transition-delay: 0 !important;
    }
    
    /* Selector de tema */
    #theme-toggle {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 100;
        width: 50px;
        height: 50px;
        border-radius: var(--border-radius-full);
        background-color: var(--primary);
        color: var(--neutral-100);
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--shadow-md);
        transition: transform var(--transition-bounce), background-color var(--transition-normal);
    }
    
    #theme-toggle:hover {
        transform: scale(1.1);
        background-color: var(--secondary);
    }
    
    /* Corregir los iconos del tema */
    .dark-icon {
        opacity: 1; /* Visible en modo claro (luna) */
        transform: rotate(0);
        position: absolute;
        font-size: 1.5rem;
        transition: opacity var(--transition-normal), transform var(--transition-normal);
    }
    
    .light-icon {
        opacity: 0; /* Oculto en modo claro */
        transform: rotate(90deg);
        position: absolute;
        font-size: 1.5rem;
        transition: opacity var(--transition-normal), transform var(--transition-normal);
    }
    
    html.dark-theme .dark-icon {
        opacity: 0; /* Oculto en modo oscuro */
        transform: rotate(-90deg);
    }
    
    html.dark-theme .light-icon {
        opacity: 1; /* Visible en modo oscuro (sol) */
        transform: rotate(0);
    }
}

/* ========== NAVBAR MODERNIZADA ========== */
@layer components {
    nav.navbar {
        background-color: rgba(var(--neutral-100-rgb), 0.85) !important;
        backdrop-filter: blur(10px) !important;
        -webkit-backdrop-filter: blur(10px) !important;
        padding: var(--spacing-sm) var(--spacing-lg) !important;
        position: fixed !important;
        width: 100% !important;
        z-index: 1000;
        transition: all var(--transition-normal);
    }
    
    nav.navbar.scrolled {
        padding: var(--spacing-xs) var(--spacing-lg) !important;
        background-color: var(--neutral-100) !important;
        box-shadow: var(--shadow-md) !important;
    }
    
    .navbar-brand {
        position: relative;
        z-index: 2;
    }
    
    .navbar-brand img {
        height: auto;
        max-height: 60px;
        transition: transform var(--transition-normal);
    }
    
    .navbar-brand:hover img {
        transform: scale(1.05);
    }
    
    .navbar-nav {
        margin-left: auto;
    }
    
    .navbar-nav .nav-link {
        color: var(--neutral-600) !important;
        font-weight: 500 !important;
        font-size: 0.95rem !important;
        margin: 0 var(--spacing-sm) !important;
        transition: all var(--transition-normal) !important;
        position: relative;
        padding: var(--spacing-xs) 0 !important;
    }
    
    .navbar-nav .nav-link:after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: 0;
        left: 0;
        background-color: var(--secondary);
        transition: width var(--transition-normal);
    }
    
    .navbar-nav .nav-link:hover {
        color: var(--primary) !important;
    }
    
    .navbar-nav .nav-link:hover:after,
    .navbar-nav .nav-item.active .nav-link:after {
        width: 100%;
    }
    
    /* Dropdown modernizado */
    nav.navbar .dropdown-menu {
        background-color: var(--neutral-100) !important;
        border: none !important;
        border-radius: var(--border-radius-md) !important;
        box-shadow: var(--shadow-md) !important;
        padding: var(--spacing-xs) 0 !important;
        margin-top: 0 !important;
        display: block;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: opacity 0.3s ease, transform 0.3s ease, visibility 0s linear 0.3s;
    }
    
    /* Despliegue automático del menú al pasar el cursor */
    .navbar-nav .dropdown:hover .dropdown-menu {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
        transition: opacity 0.3s ease, transform 0.3s ease;
    }
    
    nav.navbar .dropdown-item {
        color: var(--neutral-600) !important;
        font-size: 0.9rem !important;
        padding: var(--spacing-xs) var(--spacing-md) !important;
        transition: all var(--transition-normal);
    }
    
    nav.navbar .dropdown-item:hover {
        background-color: var(--neutral-200) !important;
        color: var(--primary) !important;
        transform: translateX(5px);
    }
    
    /* Botón de contacto refinado */
    .btn-primary {
        background-color: var(--primary) !important;
        border: none !important;
        color: var(--neutral-100) !important;
        font-size: 0.9rem !important;
        font-weight: 500 !important;
        padding: var(--spacing-xs) var(--spacing-md) !important;
        border-radius: var(--border-radius-md) !important;
        transition: all var(--transition-normal);
        letter-spacing: 0.5px;
        position: relative;
        overflow: hidden;
        z-index: 1;
    }
    
    .btn-primary:hover {
        background-color: var(--primary-dark) !important;
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
    }
    
    /* Efecto ripple para botones */
    .btn-primary::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 300px;
        height: 300px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
        z-index: -1;
        transition: transform 0.6s, opacity 0.6s;
    }
    
    .btn-primary:active::after {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
        transition: transform 0s, opacity 0.3s;
    }
}
  
/* ========== BANNER DE COOKIES ========== */
@layer components {
    .cookie-banner {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: var(--neutral-700);
        color: var(--neutral-100);
        padding: var(--spacing-md);
        z-index: 9999;
        box-shadow: var(--shadow-lg);
        transform: translateY(100%);
        transition: transform var(--transition-normal);
    }
    
    .cookie-banner.visible {
        transform: translateY(0);
    }
    
    .cookie-banner .container {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: center;
        gap: var(--spacing-md);
    }
    
    .cookie-banner p {
        margin: 0;
        flex: 1;
        min-width: 280px;
    }
    
    .cookie-banner a {
        color: var(--secondary);
        text-decoration: underline;
    }
    
    .cookie-banner .buttons {
        display: flex;
        gap: var(--spacing-sm);
    }
    
    .cookie-banner .btn-outline-secondary {
        background-color: transparent;
        border: 1px solid var(--neutral-300);
        color: var(--neutral-300);
    }
    
    .cookie-banner .btn-outline-secondary:hover {
        background-color: var(--neutral-300);
        color: var(--neutral-700);
    }
}
  
/* ========== HOME MINIMALISTA CON ALTA LEGIBILIDAD Y EFECTOS HOVER ========== */
@layer components {
    .home {
        background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('img/Facultad_de_derecho_uba.webp');
        background-size: cover;
        background-position: center;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        margin-top: 0;
        padding-top: 70px; /* Para compensar la navbar fija */
    }
    
    .home-text {
        max-width: 800px;
        padding: 2.5rem var(--spacing-lg);
        background-color: rgba(0, 0, 0, 0.7); /* Fondo más oscuro para mayor contraste */
        border-radius: var(--border-radius-lg);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }
    
    .home-text h1 {
        font-family: var(--font-primary);
        font-size: clamp(3.5rem, 6vw + 1rem, 6rem); /* Tamaño mucho más grande */
        color: #ffffff !important; /* Blanco puro, sin variables para máxima legibilidad */
        margin-bottom: var(--spacing-md);
        line-height: 1.1;
        letter-spacing: -0.02em;
        position: relative;
        font-stretch: 105%;
        font-optical-sizing: auto;
        text-shadow: 0 4px 8px rgba(0, 0, 0, 0.8); /* Sombra más intensa */
        font-weight: 700; /* Más negrita */
        text-transform: uppercase; /* Texto en mayúsculas */
        transition: color 0.3s ease; /* Transición suave para el hover */
    }
    
    .home-text h1:hover {
        color: var(--secondary) !important; /* Cambiar a color dorado al pasar el cursor */
        cursor: default; /* Cursor normal para indicar que no es un enlace */
    }
    
    .home-text h1::after {
        content: '';
        position: absolute;
        width: 150px; /* Más ancho */
        height: 6px; /* Más alto */
        background-color: var(--secondary);
        bottom: -15px;
        left: 0;
        transition: width 0.3s ease; /* Transición para efecto hover */
    }
    
    .home-text h1:hover::after {
        width: 200px; /* Se amplía al pasar el cursor */
    }
    
    .home-text h3 {
        font-family: var(--font-secondary);
        font-size: clamp(1.5rem, 3vw + 0.5rem, 3rem); /* Tamaño mucho más grande */
        font-weight: 500; /* Más negrita */
        color: #ffffff !important; /* Blanco puro, sin variables */
        margin-top: var(--spacing-lg);
        max-width: 700px;
        letter-spacing: 0.3px;
        text-shadow: 0 4px 8px rgba(0, 0, 0, 0.8); /* Sombra más intensa */
        line-height: 1.4;
        transition: color 0.3s ease; /* Transición suave para el hover */
    }
    
    .home-text h3:hover {
        color: var(--secondary) !important; /* Cambiar a color dorado al pasar el cursor */
        cursor: default; /* Cursor normal para indicar que no es un enlace */
    }
    
    .home-text h3 span {
        color: #f0ca45; /* Amarillo más brillante y específico para maximizar contraste */
        font-weight: 700; /* Negrita total */
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.9); /* Sombra más profunda */
        transition: color 0.3s ease, transform 0.3s ease; /* Transición para color y transformación */
        display: inline-block; /* Necesario para la transformación */
    }
    
    .home-text h3:hover span {
        color: #ffffff; /* Cambiar a blanco al pasar el cursor sobre h3 */
        transform: scale(1.05); /* Ligero aumento de tamaño */
    }
    
    /* Asegurar que el texto sea legible en dispositivos móviles */
    @media (max-width: 767.98px) {
        .home-text {
            padding: 2rem var(--spacing-md);
            margin: 0 var(--spacing-sm);
            width: 90%;
        }
        
        .home-text h1 {
            font-size: clamp(2.8rem, 10vw, 4rem);
        }
        
        .home-text h3 {
            font-size: clamp(1.4rem, 5vw, 2rem);
            margin-top: var(--spacing-md);
        }
    }
}

/* ========== SECCIONES GENERALES ========== */
@layer components {
    .section-padding {
        padding: var(--spacing-xl) 0;
    }
    
    .bg-light {
        background-color: var(--neutral-200);
    }
    
    .section-title {
        font-family: var(--font-primary);
        color: var(--primary);
        font-size: var(--fs-3xl);
        margin-bottom: var(--spacing-lg);
        position: relative;
        display: inline-block;
    }
    
    .section-title::after {
        content: '';
        position: absolute;
        width: 60px;
        height: 3px;
        background-color: var(--secondary);
        bottom: -10px;
        left: 0;
    }
    
    .section-title span {
        color: var(--secondary);
    }
    
    .section-text {
        color: var(--neutral-600);
        font-size: var(--fs-md);
        line-height: var(--line-height-relaxed);
        margin-bottom: var(--spacing-lg);
        max-width: 800px;
    }
}
  
/* ========== ANIMACIONES AL SCROLL ========== */
@layer components {
    /* Definir keyframes para las animaciones */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes fadeInLeft {
        from {
            opacity: 0;
            transform: translateX(-20px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    
    @keyframes fadeInRight {
        from {
            opacity: 0;
            transform: translateX(20px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    
    @keyframes scaleIn {
        from {
            opacity: 0;
            transform: scale(0.9);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }
    
    /* Elementos con animación al scroll */
    .animate-on-scroll {
        opacity: 0;
        transition: opacity 0.6s ease, transform 0.6s ease;
        transition-delay: calc(var(--delay, 0) * 1ms);
    }
    
    .animate-on-scroll.fade-up {
        transform: translateY(20px);
    }
    
    .animate-on-scroll.slide-left {
        transform: translateX(-20px);
    }
    
    .animate-on-scroll.slide-right {
        transform: translateX(20px);
    }
    
    .animate-on-scroll.scale-in {
        transform: scale(0.95);
    }
    
    .animate-on-scroll.visible {
        opacity: 1;
        transform: translate(0) scale(1);
    }
    
    @media (prefers-reduced-motion: reduce) {
        .animate-on-scroll {
            transition: none;
            opacity: 1;
            transform: none;
        }
    }
}
  
/* ========== SLIDER MODERNO ========== */
@layer components {
    .slider-area {
        padding: var(--spacing-xl) 0;
        background-color: var(--neutral-200);
        position: relative;
        overflow: hidden;
    }
    
    .single-slider {
        display: none;
        animation-duration: 0.6s;
        animation-fill-mode: both;
    }
    
    .single-slider.active {
        display: block;
    }
    
    .single-slider.active.coming-in {
        animation-name: fadeIn;
    }
    
    .single-slider.going-out {
        display: block;
        position: absolute;
        top: 0;
        width: 100%;
        animation-name: fadeOut;
    }
    
    .single-slider.active.entering-from-right {
        animation-name: enterFromRight;
    }
    
    .single-slider.active.entering-from-left {
        animation-name: enterFromLeft;
    }
    
    .single-slider.going-out.leaving-to-right {
        animation-name: leaveToRight;
    }
    
    .single-slider.going-out.leaving-to-left {
        animation-name: leaveToLeft;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    @keyframes fadeOut {
        from { opacity: 1; }
        to { opacity: 0; }
    }
    
    @keyframes enterFromRight {
        from { transform: translateX(100%); }
        to { transform: translateX(0); }
    }
    
    @keyframes enterFromLeft {
        from { transform: translateX(-100%); }
        to { transform: translateX(0); }
    }
    
    @keyframes leaveToRight {
        from { transform: translateX(0); }
        to { transform: translateX(100%); }
    }
    
    @keyframes leaveToLeft {
        from { transform: translateX(0); }
        to { transform: translateX(-100%); }
    }
    
    .slider-area .hero-content {
        padding: 0 var(--spacing-lg);
    }
    
    .slider-area .hero-content h3 {
        font-family: var(--font-primary);
        font-size: var(--fs-2xl);
        color: var(--primary);
        margin-bottom: var(--spacing-sm);
    }
    
    .slider-area .hero-content h4 {
        color: var(--primary);
        font-size: var(--fs-xl);
        margin-bottom: var(--spacing-xs);
    }
    
    .slider-area .hero-content h5.title-design {
        color: var(--secondary);
        font-family: var(--font-secondary);
        font-weight: 500;
        font-size: var(--fs-md);
        margin-bottom: var(--spacing-md);
    }
    
    .slider-area .hero-content p.text-design {
        font-size: var(--fs-base);
        color: var(--neutral-600);
        line-height: var(--line-height-relaxed);
    }
    
    .slider-area .hero-img img {
        border-radius: var(--border-radius-lg);
        box-shadow: var(--shadow-md);
        width: 100%;
        height: auto;
        aspect-ratio: 4/3;
        object-fit: cover;
        transition: transform var(--transition-normal);
    }
    
    .slider-area .hero-img:hover img {
        transform: scale(1.02);
    }
    
    /* Controles del slider */
    .slider-controls {
        position: absolute;
        bottom: var(--spacing-md);
        left: 0;
        right: 0;
        display: flex;
        justify-content: center;
        gap: var(--spacing-md);
        z-index: 10;
    }
    
    .slider-control {
        background-color: var(--primary);
        color: var(--neutral-100);
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        border: none;
        opacity: 0.7;
        transition: all var(--transition-normal);
        box-shadow: var(--shadow-md);
    }
    
    .slider-control:hover {
        opacity: 1;
        background-color: var(--secondary);
        transform: scale(1.1);
    }
    
    .slider-control i {
        font-size: 1.5rem;
    }
    
    /* Indicadores del slider */
    .slider-indicators {
        position: absolute;
        bottom: var(--spacing-sm);
        left: 0;
        right: 0;
        display: flex;
        justify-content: center;
        gap: var(--spacing-xs);
        z-index: 10;
    }
    
    .slider-indicator {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color: var(--neutral-400);
        border: none;
        cursor: pointer;
        transition: all var(--transition-normal);
    }
    
    .slider-indicator.active {
        background-color: var(--secondary);
        transform: scale(1.3);
    }
}

/* ========== TARJETAS MINIMALISTAS ========== */
@layer components {
    .areas-practica-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: var(--spacing-md);
        margin-top: var(--spacing-lg);
    }
    
    .card-container {
        container-type: inline-size;
        container-name: card-area;
        height: 100%;
    }
    
    .card {
        --card-scale: 1;
        --card-translate-y: 0;
        --card-shadow-opacity: 0.08;
        border: none;
        border-radius: var(--border-radius-lg);
        overflow: hidden;
        background-color: var(--neutral-100);
        transition: transform var(--transition-bounce), 
                    box-shadow var(--transition-normal);
        transform: scale(var(--card-scale)) translateY(var(--card-translate-y));
        box-shadow: 0 8px 24px rgba(0, 0, 0, var(--card-shadow-opacity));
        height: 100%;
        display: flex;
        flex-direction: column;
        min-height: 350px;
    }
    
    .card:hover {
        --card-scale: 1.02;
        --card-translate-y: -8px;
        --card-shadow-opacity: 0.15;
    }
    
    .card-header {
        background-color: var(--neutral-200);
        color: var(--primary);
        text-align: center;
        padding: var(--spacing-md);
        border-bottom: none;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-shrink: 0;
    }
    
    .card-header img {
        width: 60px;
        height: 60px;
        transition: transform var(--transition-bounce);
    }
    
    .card:hover .card-header img {
        transform: scale(1.1);
    }
    
    .card-body {
        padding: var(--spacing-md);
        flex: 1;
        display: flex;
        flex-direction: column;
    }
    
    .card-body h4 {
        color: var(--primary);
        font-size: var(--fs-lg);
        margin-bottom: var(--spacing-sm);
        text-align: center;
    }
    
    .card-text {
        list-style: none;
        padding-left: 0;
        margin: 0;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
    }
    
    .card-text li {
        position: relative;
        padding-left: var(--spacing-md);
        margin-bottom: var(--spacing-xs);
        font-size: var(--fs-sm);
        color: var(--neutral-600);
    }
    
    .card-text li::before {
        content: '';
        position: absolute;
        left: 0;
        top: 12px;
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background-color: var(--secondary);
    }
    
    @container card-area (min-width: 350px) {
        .card-body h4 {
            font-size: var(--fs-xl);
        }
        
        .card-text li {
            font-size: var(--fs-base);
        }
    }
    
    @container card-area (max-width: 349px) {
        .card-body h4 {
            font-size: var(--fs-md);
        }
        
        .card-text li {
            font-size: var(--fs-xs);
            padding-left: var(--spacing-sm);
        }
        
        .card-header img {
            width: 50px;
            height: 50px;
        }
    }
}

/* ========== TESTIMONIOS ========== */
@layer components {
    .comentarios-section {
        padding: var(--spacing-xl) 0;
        background-color: var(--neutral-100);
        position: relative;
        overflow: hidden;
    }
    
    .comentarios-wrapper {
        position: relative;
        margin-top: var(--spacing-lg);
    }
    
    .comentarios-group {
        display: none;
        opacity: 0;
        transition: opacity var(--transition-normal);
    }
    
    .comentarios-group.active {
        display: block;
        opacity: 1;
    }
    
    .comentarios-group.active.coming-in {
        animation: fadeIn 0.5s ease-in-out forwards;
    }
    
    .comentarios-group.going-out {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        animation: fadeOut 0.5s ease-in-out forwards;
    }
    
    .comentario-card {
        background-color: var(--neutral-200);
        border-radius: var(--border-radius-lg);
        padding: var(--spacing-md);
        box-shadow: var(--shadow-sm);
        transition: all var(--transition-bounce);
        height: 100%;
        position: relative;
    }
    
    .comentario-card::before {
        content: '"';
        position: absolute;
        top: 15px;
        left: 20px;
        font-size: 5rem;
        color: var(--secondary);
        opacity: 0.2;
        font-family: Georgia, serif;
        line-height: 0;
    }
    
    .comentario-card:hover {
        transform: translateY(-8px);
        box-shadow: var(--shadow-md);
    }
    
    .comentario-header {
        display: flex;
        align-items: center;
        margin-bottom: var(--spacing-md);
        padding-top: var(--spacing-sm);
    }
    
    .cliente-foto {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        object-fit: cover;
        box-shadow: var(--shadow-sm);
        border: 3px solid var(--neutral-100);
        aspect-ratio: 1/1;
    }
    
    .comentario-header h4 {
        margin-left: var(--spacing-sm);
        font-size: var(--fs-md);
        color: var(--primary);
        margin-bottom: 0;
    }
    
    .comentario-body p {
        font-size: var(--fs-base);
        color: var(--neutral-600);
        line-height: var(--line-height-relaxed);
        font-style: italic;
    }
    
    .comentarios-controls {
        margin-top: var(--spacing-lg);
        display: flex;
        justify-content: center;
        gap: var(--spacing-sm);
    }
    
    .comentario-control {
        background-color: var(--neutral-300);
        color: var(--primary);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: none;
        cursor: pointer;
        transition: all var(--transition-normal);
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .comentario-control:hover {
        background-color: var(--secondary);
        color: var(--neutral-100);
        transform: scale(1.1);
    }
    
    .comentario-control i {
        font-size: 1.25rem;
    }
}

/* ========== FORMULARIO DE CONTACTO ========== */
@layer components {
    .contact-form {
        background-color: var(--neutral-100);
        border-radius: var(--border-radius-lg);
        padding: var(--spacing-lg);
        box-shadow: var(--shadow-md);
    }
    
    .form-floating > .form-control,
    .form-floating > .form-select {
        border: 1px solid var(--neutral-300);
        border-radius: var(--border-radius-md);
        transition: border-color var(--transition-normal), box-shadow var(--transition-normal);
    }
    
    .form-floating > .form-control:focus,
    .form-floating > .form-select:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 0.25rem rgba(var(--primary-rgb), 0.25);
    }
    
    .form-floating > label {
        color: var(--neutral-500);
    }
    
    .btn-lg {
        padding: var(--spacing-sm) var(--spacing-lg) !important;
        font-size: var(--fs-base) !important;
    }
}

/* ========== MODAL REFINADO ========== */
@layer components {
    .modal-content {
        border: none;
        border-radius: var(--border-radius-lg);
        overflow: hidden;
        box-shadow: var(--shadow-lg);
    }
    
    .modal-header {
        background-color: var(--primary);
        color: var(--neutral-100);
        border: none;
        padding: var(--spacing-md) var(--spacing-lg);
    }
    
    .modal-title {
        font-family: var(--font-primary);
        font-size: var(--fs-xl);
        color: var(--neutral-100);
        margin-bottom: 0;
    }
    
    .modal-body {
        padding: var(--spacing-lg);
        background-color: var(--neutral-100);
    }
    
    /* Modal de contacto mejorado */
    .contact-info {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-md);
    }
    
    .contact-info p {
        margin-bottom: 0;
        display: flex;
        align-items: center;
        font-size: var(--fs-base);
        width: 100%;
    }
    
    .contact-info a {
        color: var(--primary) !important;
        text-decoration: none !important;
        transition: color var(--transition-normal);
        font-weight: 500;
    }
    
    .contact-info a:hover {
        color: var(--secondary) !important;
        text-decoration: none !important;
    }
    
    .contact-info i {
        color: var(--secondary);
        margin-right: var(--spacing-sm);
        font-size: 1.2rem;
        width: 24px;
        text-align: center;
        flex-shrink: 0;
    }
    
    .modal-footer {
        border-top: 1px solid var(--neutral-300);
        background-color: var(--neutral-200);
        padding: var(--spacing-sm) var(--spacing-md);
    }
}

/* ========== CHATBOT ========== */
@layer components {
    .chatbot-container {
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 9999;
    }
    
    .chatbot-toggle {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background-color: var(--primary);
        color: var(--neutral-100);
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        box-shadow: var(--shadow-lg);
        cursor: pointer;
        transition: transform var(--transition-bounce);
        font-size: 1.5rem;
    }
    
    .chatbot-toggle:hover {
        transform: scale(1.1);
    }
    
    .chatbot-panel {
        position: absolute;
        bottom: 80px;
        left: 0;
        width: 350px;
        height: 450px;
        background-color: var(--neutral-100);
        border-radius: var(--border-radius-lg);
        box-shadow: var(--shadow-lg);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        transform: scale(0);
        opacity: 0;
        transform-origin: bottom left;
        transition: transform var(--transition-bounce), opacity var(--transition-normal);
    }
    
    .chatbot-panel.open {
        transform: scale(1);
        opacity: 1;
    }
    
    .chatbot-header {
        background-color: var(--primary);
        color: var(--neutral-100);
        padding: var(--spacing-sm) var(--spacing-md);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .chatbot-header h3 {
        margin: 0;
        font-size: var(--fs-md);
        color: var(--neutral-100);
    }
    
    .chatbot-header button {
        background: none;
        border: none;
        color: var(--neutral-100);
        cursor: pointer;
        font-size: 1.25rem;
    }
    
    .chat-messages {
        flex: 1;
        overflow-y: auto;
        padding: var(--spacing-sm);
    }
    
    .message {
        margin-bottom: var(--spacing-sm);
        max-width: 80%;
        padding: var(--spacing-sm);
        border-radius: var(--border-radius-md);
        line-height: 1.4;
        font-size: var(--fs-sm);
    }
    
    .message.bot {
        background-color: var(--neutral-200);
        color: var(--neutral-700);
        border-top-left-radius: 0;
        align-self: flex-start;
    }
    
    .message.user {
        background-color: var(--primary-light);
        color: var(--neutral-100);
        border-top-right-radius: 0;
        margin-left: auto;
    }
}

/* ========== FOOTER MODERNO ========== */
@layer components {
    footer {
        background-color: var(--neutral-700);
        color: var(--neutral-300);
        padding: var(--spacing-xl) var(--spacing-lg) var(--spacing-lg);
        margin-top: var(--spacing-xl);
    }
    
    footer h4 {
        color: var(--neutral-100);
        font-size: var(--fs-lg);
        margin-bottom: var(--spacing-md);
        position: relative;
        padding-bottom: var(--spacing-xs);
    }
    
    footer h4::after {
        content: '';
        position: absolute;
        width: 40px;
        height: 2px;
        background-color: var(--secondary);
        bottom: 0;
        left: 0;
    }
    
    footer p {
        font-size: var(--fs-sm);
        margin-bottom: var(--spacing-sm);
    }
    
    footer i {
        color: var(--secondary);
        font-size: 1.2rem;
        margin-right: var(--spacing-xs);
        transition: transform var(--transition-normal);
    }
    
    footer i:hover {
        transform: translateY(-3px);
    }
    
    footer a {
        color: var(--neutral-300);
        text-decoration: none;
        transition: color var(--transition-normal);
    }
    
    footer a:hover {
        color: var(--secondary);
        text-decoration: none;
    }
    
    .social-links {
        display: flex;
        gap: var(--spacing-sm);
    }
    
    .social-links a {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        transition: all var(--transition-normal);
    }
    
    .social-links a:hover {
        background-color: var(--secondary);
        transform: translateY(-3px);
    }
    
    .social-links a:hover i {
        color: var(--neutral-700);
    }
    
    .jurisdiccion {
        padding-top: var(--spacing-md);
        border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .copyright {
        margin-top: var(--spacing-md);
        padding-top: var(--spacing-sm);
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        font-size: var(--fs-xs);
        color: var(--neutral-400);
    }
}

/* ========== RESPONSIVE DESIGN ========== */
@layer components {
    @media (max-width: 1199.98px) {
        .section-title {
            font-size: var(--fs-2xl);
        }
    }
    
    @media (max-width: 991.98px) {
        .section-title {
            font-size: var(--fs-xl);
        }
        
        .slider-area .hero-content {
            margin-bottom: var(--spacing-md);
        }
    }
    
    @media (max-width: 767.98px) {
        .section-title {
            text-align: center;
            width: 100%;
        }
        
        .section-title::after {
            left: 50%;
            transform: translateX(-50%);
        }
        
        .section-text {
            text-align: center;
            margin-left: auto;
            margin-right: auto;
        }
        
        .navbar-nav {
            background-color: var(--neutral-100);
            padding: var(--spacing-md);
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-md);
        }
        
        .navbar-nav .nav-link {
            margin: var(--spacing-xs) 0 !important;
        }
        
        nav.navbar .btn-primary {
            width: 100%;
            margin-top: var(--spacing-sm);
        }
        
        .slider-area .hero-content {
            text-align: center;
        }
        
        .slider-area .hero-content h3,
        .slider-area .hero-content h4,
        .slider-area .hero-content h5 {
            text-align: center;
        }
        
        .slider-area .hero-content h3::after,
        .slider-area .hero-content h4::after {
            left: 50%;
            transform: translateX(-50%);
        }
        
        .chatbot-panel {
            width: 300px;
        }
    }
    
    @media (max-width: 575.98px) {
        :root {
            --spacing-lg: 1.5rem;
            --spacing-xl: 2.5rem;
        }
        
        .cliente-foto {
            width: 50px;
            height: 50px;
        }
        
        .comentario-header h4 {
            font-size: var(--fs-base);
        }
        
        .comentario-body p {
            font-size: var(--fs-sm);
        }
        
        .slider-control {
            width: 40px;
            height: 40px;
        }
        
        .chatbot-panel {
            width: 280px;
            height: 400px;
            bottom: 70px;
        }
    }
}

